<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en"><!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
        <meta charset="utf-8">
        <title>PEA Smart Home</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <meta content="PEA Smart Home" name="description">
        <meta content="" name="author">
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
{#        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all" rel="stylesheet" type="text/css">#}
       <link href="/static/newassets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/static/newassets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css">
        <link href="/static/newassets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="/static/newassets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css">
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL STYLES -->
        <link href="/static/newassets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css">
        <link href="/static/newassets/global/css/plugins.min.css" rel="stylesheet" type="text/css">
        <!-- END THEME GLOBAL STYLES -->
        <!-- BEGIN THEME LAYOUT STYLES -->
        <link href="/static/newassets/layouts/layout4/css/layout.min.css" rel="stylesheet" type="text/css">
        <link href="/static/newassets/layouts/layout4/css/themes/default.min.css" rel="stylesheet" type="text/css" id="style_color">
        <link href="/static/newassets/layouts/layout4/css/custom.min.css" rel="stylesheet" type="text/css">

        <link href="/static/newassets/custom/font/flaticon.css" rel="stylesheet" type="text/css">
        <link href="/static/newassets/custom/custom.css" rel="stylesheet" type="text/css">
        <!-- END THEME LAYOUT STYLES -->
        <link rel="shortcut icon" href="favicon.ico"> <style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style>
        <script>
function setValue() {
  //User Information
  update_Username("admin");

  //Current Rate
  update_Cur_rate("4.32");

  //Cost Prediction
  //@CPx_comp can be negative for down symbol
  //@CPx_kwh <= CPx_max
  //—Today
  update_CPT_kwh("22.69");
  update_CPT_max("23.54");
  update_CPT_baht("71.25");
  update_CPT_comp("-16.47");
  //—This Month
  update_CPM_kwh("250.48");
  update_CPM_max("312.24");
  update_CPM_baht("1200.25");
  update_CPM_comp("-216.25");
  //Load consumption
  //@Lxx_bar value between 0 to 100
  //@Lxx_comp value between -100 to 100
  //—Today
  update_LT1_comp("40");
  update_LT1_baht("10");

  update_LT2_comp("30");
  update_LT2_baht("15.75");

  update_LT3_comp("-80");
  update_LT3_baht("25.25");

  update_LT4_comp("60");
  update_LT4_baht("20.25");

  //—This month
  update_LM1_comp("6");
  update_LM1_baht("12");

  update_LM2_comp("30");
  update_LM2_baht("18");

  update_LM3_comp("32");
  update_LM3_baht("23.25");

  update_LM4_comp("20");
  update_LM4_baht("30.25");

  //Total Annual Energy Consumption
  update_AEC_gen("2000");
  update_AEC_use("1000");

  //Load
  update_LOAD1_on("6");
  update_LOAD1_all("13");

  update_LOAD2_on("2");
  update_LOAD2_all("3");

  update_LOAD3_on("6");
  update_LOAD3_all("13");

  //Grid
  //@GRID_kw can be negative for down symbol
  update_GRID_status("Feeding now");
  update_GRID_kw("20.23");

  //Solar Generation
  //@SOLAR_kw can be negative for down symbol
  update_SOLAR_status("Feeding now");
  update_SOLAR_kw("7.01");

  //Load consumption
  //@LOAD_kw always positive
  update_LOAD_status("Consuming");
  update_LOAD_kw("2.02");

  //Mode
  //@MODE_baht can be negative for down symbol
  update_MODE("Eco mode");
  update_MODE_status("Saving cost");
  update_MODE_baht("-57.82");

  //EV Car
  //@EV_percent can be negative for down symbol
  update_EV_status("Charging");
  update_EV_percent("62");
}
        </script>
      </head>
<!-- END HEAD -->

    <body class="page-container-bg-solid page-sidebar-closed-hide-logo page-header-fixed">
        <!-- BEGIN HEADER -->
        {% include 'top_nav.html' %}
        <!-- END HEADER -->

        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->

        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            {% include 'sidebar.html' %}
			
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div class="page-content" style="min-height: 981px;">
                    <!-- BEGIN page_breadcrumb -->
                    {% include 'page_breadcrumb.html' %}
                    <!-- END page_breadcrumb -->
                    <br>
                    <!-- BEGIN PAGE HEAD-->
                    <!--<div class="page-head">-->
                        <!-- BEGIN PAGE TITLE -->
                        <!--<div class="page-title">
                            <h1>Dashboard
                            </h1>
                        </div>-->
                        <!-- END PAGE TITLE -->

                    <!--</div>-->
                    <!-- END PAGE HEAD-->
                    <!-- BEGIN PAGE BREADCRUMB -->
                    <!--<ul class="page-breadcrumb breadcrumb">
                        <li>
                            <a href="index.html">Home</a>
                            <i class="fa fa-circle"></i>
                        </li>
                        <li>
                            <span class="active">Dashboard</span>
                        </li>
                    </ul>-->
                    <!-- END PAGE BREADCRUMB -->

                    <div class="row">

                        <!-- BEGIN Left Col -->
                        <section class="col-lg-6">

                            <!-- BEGIN Current Energy Consumption -->
                            <div class="portlet light bordered">
                                <div class="portlet-title tabbable-line">
                                    <div class="caption">
                                        <i class="icon-bubbles font-dark hide"></i>
                                        <span class="caption-subject font-dark bold uppercase">Current Energy Consumption</span>
                                    </div>
                                </div>
                                <div class="portlet-body">
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="portlet_load_1">
                                          <div class="row">
                                              <!-- BEGIN Current Energy Consumption Status -->
                                              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                   <img class="img-responsive" id = "ENERGY_pic" src="../static/images/Current_Energy/GSE.png" style="padding: 20px 10px 30px;">
                                              </div>
                                              <!-- END Current Energy Consumption Status -->
                                              <!-- BEGIN Grid Feeding -->
                                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="padding-left: 20px; padding-right: 20px;">
                                                <div class="info-box">
                                                  <span class="info-box-icon bg-blue">
{#                                                      <i class="glyphicon glyphicon-flash font-white"></i></span>#}
                                                      <img class " style="font-size:5px" src="../static/images/icon-png/transmission-tower_w.png" class="img-responsive">
                                                  </span>
                                                <div class="info-box-content">
                                                    <span class="info-box-text1">Grid</span>
                                                    <span class="info-box-text2" id="GRID_status"></span>
                                                    <span class="info-box-number">
                                                        <span id="GRID_kw"></span> <small>W</small>
                                                    </span>
                                                  </div>
                                                </div>
                                              </div>
                                              <!-- END Grid Feeding -->
                                              <!-- BEGIN Solar Generation -->
                                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="padding-left: 20px; padding-right: 20px;">
                                                <div class="info-box">
                                                  <span class="info-box-icon bg-red">
{#                                                      <i class="fa fa-sun-o font-white"></i>#}
                                                      <img class style="font-size:5px" src="../static/images/icon-png/sun_w.png" class="img-responsive">
                                                  </span>

                                                  <div class="info-box-content">
                                                    <span class="info-box-text1">Solar Generation</span>
                                                    <span class="info-box-text2" id="SOLAR_status"></span>
                                                    <span class="info-box-number">
                                                        <span id="SOLAR_kw"></span> <small>W</small>
                                                    </span>
                                                  </div>
                                                </div>
                                              </div>
                                              <!-- END Solar Generation -->
                                              <!-- BEGIN Load Consumption -->
                                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="padding-left: 20px; padding-right: 20px;">
                                                <div class="info-box">
                                                  <span class="info-box-icon bg-yellow-gold">
{#                                                      <i class="fa fa-sun-o font-white"></i></span>#}
                                                  <img class style="font-size:5px" src="../static/images/icon-png/plug-load_w.png" class="img-responsive">
                                                      </span>

                                                  <div class="info-box-content">
                                                    <span class="info-box-text1">Load</span>
                                                    <span class="info-box-text2" id="LOAD_status"></span>
                                                    <span class="info-box-number">
                                                         <span id="LOAD_kw"></span> <small>W</small>
                                                    </span>
                                                  </div>
                                                </div>
                                              </div>
                                              <!-- END Load Consumption -->
                                              <!-- BEGIN Mode -->
                                              <!--<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="padding-left: 20px; padding-right: 20px;>-->
                                                <!--<div class="info-box">-->
                                                  <!--<span class="info-box-icon bg-green"><i class="fa fa-sliders font-white"></i></span>-->

                                                  <!--<div class="info-box-content">-->
                                                    <!--<span class="info-box-text1" id="MODE">Eco Mode</span>-->
                                                    <!--<span class="info-box-text2" id="MODE_status"></span>-->
                                                    <!--<span class="info-box-number"><span class="glyphicon" id="MODE_baht_direction"></span> <span id="MODE_baht"></span> <small>฿</small></span>-->
                                                  <!--</div>-->
                                                <!--</div>-->
                                              <!--</div>-->
                                              <!-- END Mode -->
                                              <!-- BEGIN EV Status -->
                                              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="padding-left: 20px; padding-right: 20px;">
                                                <div class="info-box">
                                                  <span class="info-box-icon bg-purple">
{#                                                      <i class="fa fa-car font-white"></i></span>#}
                                                    <img class style="font-size:5px" src="../static/images/icon-png/ev-w.png" class="img-responsive">
                                                      </span>

                                                  <div class="info-box-content">
                                                    <span class="info-box-text1">EV Car</span>
                                                    <span class="info-box-text2" id="EV_status"></span>
                                                    <span class="info-box-number">
                                                        <span id="EV_percent"></span> <small>%</small>
                                                    </span>
                                                  </div>
                                                </div>
                                              </div>
                                              <!-- END EV Status -->
                                          </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- END Current Energy Consumption -->

                            <!-- BEGIN Load Consumption -->
                            <div class="portlet light bordered">
                                <div class="portlet-title tabbable-line">
                                    <div class="caption">
                                        <i class="icon-bubbles font-dark hide"></i>
                                        <span class="caption-subject font-dark bold uppercase">Load Consumption</span>
                                    </div>
                                    <ul class="nav nav-tabs">
                                        <li class="active">
                                            <a data-toggle="tab" href="#tab_load_1" aria-expanded="true"> Today </a>
                                        </li>
                                        <li class="">
                                            <a data-toggle="tab" href="#tab_load_2" aria-expanded="false"> This Month </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="portlet-body">
                                    <div class="tab-content">
                                        <!-- BEGIN Today Load Consumption -->
                                        <div id="tab_load_1" class="tab-pane active" >
                                          <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="dashboard-stat2 bordered">
                                                    <div class="display" style="margin-bottom:0px">
                                                        <div class="number">
{#                                                          <small>LIGHTINGS</small>#}
                                                            <span class ="caption-subject bold front-dark uppercase"> Lightings </span>
                                                            <h3 class="font-red-flamingo" style="font-size: 25px">
                                                                <span id="LT1_baht"></span>
                                                                <span class="font-red-flamingo">฿</span>
                                                            </h3>
                                                        </div>
                                                        <div class="icon">
{#                                                            <i class="icon-bulb font-red-flamingo" style="font-size:36px"></i>#}
                                                            <img src="../static/images/icon-png/dash_light.png" class="img-responsive" width="40" height="40">
                                                        </div>
                                                    </div>
                                                    <div class="progress-info">
                                                        <div class="status" style="margin-top:0px">
                                                            <div class="status-title font-black">
                                                                <i id="LT1_comp_direction" class="glyphicon"></i>
                                                                <span id="LT1_comp" ></span>% from yesterday
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="dashboard-stat2 bordered">
                                                    <div class="display" style="margin-bottom:0px">
                                                        <div class="number">
{#                                                            <small>Air Condition</small>#}
                                                            <span class ="caption-subject bold front-dark uppercase"> Air Condition </span>
                                                            <h3 class="font-blue" style="font-size: 25px">
                                                              <span id="LT2_baht"></span>
                                                              <span class="font-blue">฿</span>
                                                            </h3>
                                                        </div>
                                                        <div class="icon">
{#                                                            <i class="fa fa-asterisk font-red-haze" style="font-size:36px"></i>#}
                                                            <img src="../static/images/icon-png/dash_ac.png" class="img-responsive" width="40" height="40">
                                                        </div>
                                                    </div>
                                                    <div class="progress-info">
                                                        <div class="status" style="margin-top:0px">
                                                            <div class="status-title">
                                                                <i id="LT2_comp_direction" class="glyphicon"></i>
                                                                <span id="LT2_comp"></span>% from yesterday </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="dashboard-stat2 bordered">
                                                    <div class="display" style="margin-bottom:0px">
                                                        <div class="number">
{#                                                            <small>Plug (Appliances)</small>#}
                                                            <span class ="caption-subject bold front-dark uppercase"> Plug (appliances) </span>
                                                            <h3 class="font-green-jungle" style="font-size: 25px">
                                                              <span id="LT3_baht"></span>
                                                              <span class="font-green-jungle">฿</span>
                                                            </h3>
                                                        </div>
                                                        <div class="icon">
{#                                                            <i class="fa fa-plug font-green-jungle" style="font-size:36px"></i>#}
                                                            <img src="../static/images/icon-png/dash_plug1.png" class="img-responsive" width="40" height="40">
                                                        </div>
                                                    </div>
                                                    <div class="progress-info">
                                                        <div class="status" style="margin-top:0px">
                                                            <div class="status-title"> <i id="LT3_comp_direction" class="glyphicon"></i> <span id="LT3_comp"></span>% from yesterday </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div class="dashboard-stat2 bordered">
                                                    <div class="display" style="margin-bottom:0px">
                                                        <div class="number">
{#                                                            <small>EV Car</small>#}
                                                            <span class ="caption-subject bold front-dark uppercase"> EV car </span>
                                                            <h3 class="font-purple" style="font-size: 25px">
                                                              <span id="LT4_baht"></span>
                                                              <span class="font-purple">฿</span>
                                                            </h3>
                                                        </div>
                                                        <div class="icon">
{#                                                           <i class="fa fa-car font-purple" style="font-size:36px"></i>#}
                                                            <img src="../static/images/icon-png/dash_ev.png" class="img-responsive" width="40" height="40">

                                                        </div>
                                                    </div>
                                                    <div class="progress-info">
                                                        <div class="status" style="margin-top:0px">
                                                            <div class="status-title"> <i id="LT4_comp_direction" class="glyphicon"></i> <span id="LT4_comp"></span>% from yesterday </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- BEGIN This Month Load Consumption -->
                                         <div id="tab_load_2" class="tab-pane" >
                                            <div class="row">
                                             <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                  <div class="dashboard-stat2 bordered">
                                                      <div class="display" style="margin-bottom:0px">
                                                          <div class="number">
{#                                                              <small>Lightings</small>#}
                                                              <span class ="caption-subject bold front-dark uppercase"> Lightings </span>
                                                              <h3 class="font-red-flamingo" style="font-size: 25px">
                                                                  <span id="LM1_baht"></span>
                                                                  <span class="font-red-flamingo">฿</span>
                                                              </h3>
                                                          </div>
                                                          <div class="icon">
{#                                                              <i class="icon-bulb font-red-flamingo" style="font-size:36px"></i>#}
                                                              <img src="../static/images/icon-png/dash_light.png" class="img-responsive" width="40" height="40">
                                                          </div>
                                                      </div>
                                                      <div class="progress-info">
                                                          <div class="status font-black" style="margin-top:0px">
                                                              <div class="status-title">
                                                                  <i id="LM1_comp_direction" class="glyphicon"></i>
                                                                  <span id="LM1_comp"></span>% from last month </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                             <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                  <div class="dashboard-stat2 bordered">
                                                      <div class="display" style="margin-bottom:0px">
                                                          <div class="number">
{#                                                              <small>Air Condition</small>#}
                                                              <span class ="caption-subject bold front-dark uppercase"> Air Condition </span>
                                                              <h3 class="font-blue" style="font-size: 25px">
                                                                <span id="LM2_baht"></span>
                                                                <span class="font-blue">฿</span>
                                                              </h3>
                                                          </div>
                                                          <div class="icon">
{#                                                            <i class="fa fa-asterisk font-blue" style="font-size:36px"></i>#}
                                                              <img src="../static/images/icon-png/dash_ac.png" class="img-responsive" width="40" height="40">
                                                          </div>
                                                      </div>
                                                      <div class="progress-info">
                                                          <div class="status" style="margin-top:0px">
                                                              <div class="status-title">
                                                                  <i id="LM2_comp_direction" class="glyphicon"></i>
                                                                  <span id="LM2_comp"></span>% from last month
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                             <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                  <div class="dashboard-stat2 bordered">
                                                      <div class="display" style="margin-bottom:0px">
                                                          <div class="number">
{#                                                              <small>Plug (Appliances)</small>#}
                                                              <span class ="caption-subject bold front-dark uppercase"> Plug (appliances) </span>
                                                              <h3 class="font-green-jungle" style="font-size: 25px">
                                                                <span id="LM3_baht"></span>
                                                                <span class="font-green-jungle">฿</span>
                                                              </h3>
                                                          </div>
                                                          <div class="icon">
{#                                                              <i class="fa fa-plug green-jungle" style="font-size:36px"></i>#}
                                                              <img src="../static/images/icon-png/dash_plug1.png" class="img-responsive" width="40" height="40">
                                                          </div>
                                                      </div>
                                                      <div class="progress-info">
                                                          <div class="status" style="margin-top:0px">
                                                              <div class="status-title">
                                                                  <i id="LM3_comp_direction" class="glyphicon"></i>
                                                                  <span id="LM3_comp"></span>% from last month
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                             <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                  <div class="dashboard-stat2 bordered">
                                                      <div class="display" style="margin-bottom:0px">
                                                          <div class="number">
{#                                                              <small>EV Car</small>#}
                                                              <span class ="caption-subject bold front-dark uppercase"> EV car </span>
                                                              <h3 class="font-purple" style="font-size: 25px">
                                                                <span id="LM4_baht"></span>
                                                                <span class="font-purple">฿</span>
                                                              </h3>
                                                          </div>
                                                          <div class="icon">
{#                                                              <i class="fa fa-car font-purple" style="font-size:36px"></i>#}
                                                              <img src="../static/images/icon-png/dash_ev.png" class="img-responsive" width="40" height="40">
                                                          </div>
                                                      </div>
                                                      <div class="progress-info">
                                                          <div class="status" style="margin-top:0px">
                                                              <div class="status-title">
                                                                  <i id="LM4_comp_direction" class="glyphicon"></i>
                                                                  <span id="LM4_comp"></span>% from last month
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                            </div>
                                         </div>
                                  </div>
                              </div>
                          </div>
                            <!-- END Load Consumption -->

                        </section>
                        <!-- END Left Col -->

                        <!-- BEGIN Right Col -->
                        <section class="col-lg-6">

                            <!-- BEGIN 1st Row -->
                            <div class="row">
                                <!-- BEGIN Mode -->
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                    <!--Test Modal -->
                                    <div class="m-heading-1 border-green m-bordered">
                                        <div class="row">
                                            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                <h3 id="MODE" style="font-size: 25px";>Eco Mode</h3>
                                                <div id="MODE_status"></div>
                                                <span id="MODE_baht" style="font-size: 25px"></span> ฿
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                <div class="icon">
                                                    <br><br>
                                                    <img style="font-size:50px" src="../static/images/Mode/eco_mode.png" id="MODE_pic" class="img-responsive">
                                                </div>
                                            </div>
                                        </div>

                                        <div class= "clearfix">
                                            <!-- Modal1 -->
                                            <button type="button" class="btn btn-circle btn-default" data-toggle="modal" data-target="#Mode_Modal">Select Mode</button>
                                                <div class="modal fade" id="Mode_Modal" role="dialog">
                                                    <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header btn-success">
                                                    <button type="" class="close" data-dismiss="modal">X</button>
                                                    <div class="caption" style="font-size:18px;"><b>Mode Selection</b></div>
                                                    </div>
                                                    <div class="modal-body" style="font-size: 18px;">
                                                    <span class="">Please select mode</span>
                                                    <div style="font-size: 14px;">
                                                        <span class="font-red">Comfort Mode:</span>
                                                        <span class="font-grey-gallery">you can use appliances as you wish</span>
                                                    </div>
                                                    <div class="font-grey-gallery" style="font-size: 14px;">
                                                        <span class="font-green-jungle">ECO Mode:</span>
                                                        <span class="font-grey-gallery">we will keep your comfort while maximize energy saving</span>
                                                    </div>
                                                        <p></p>
                                                        <table class="table table-hover table light">
                                                            <tr align="center" >
                                                                <th>Devices</th>
                                                                <th class="font-red" style="font-size: 15px;">Comfort Mode</th>
                                                                <th class="font-green-jungle" style="font-size: 15px;">Eco Mode</th>
                                                            </tr>
                                                            <tr>
                                                                <td>AC1</td>
                                                                <td>TEMP. 20 &deg;C</td>
                                                                <td>TEMP. 27 &deg;C</td>
                                                            </tr>
                                                            <tr>
                                                                <td>AC2</td>
                                                                <td>TEMP. 20 &deg;C</td>
                                                                <td>TEMP. 27 &deg;C</td>
                                                            </tr>
                                                            <tr>
                                                                <td>AC3</td>
                                                                <td>TEMP. 20 &deg;C</td>
                                                                <td>TEMP. 27 &deg;C</td>
                                                            </tr>
                                                            <tr>
                                                                <td>FAN</td>
                                                                <td>OFF</td>
                                                                <td>ON</td>
                                                            </tr>
                                                            <tr>
                                                                <td>EV CHARGER</td>
                                                                <td>ON</td>
                                                                <td>ON</td>
                                                            </tr>
                                                            <tr>
                                                                <td>TV</td>
                                                                <td>ON</td>
                                                                <td>ON</td>
                                                            </tr>
                                                            <tr>
                                                                <td>LIGHTING</td>
                                                                <td>MAX</td>
                                                                <td>DIM BASE ON </td>
                                                            </tr>
                                                            <tr>
                                                                <td></td>
                                                                <td></td>
                                                                <td>AMBIENT ILLUMINANCE</td>
                                                            </tr>
                                                            <tr>
                                                                <td style="font-size: 15px; "><p><b>Please select</b></p></td>
                                                                <td>
                                                                    <p></p><button type="button" id="select_comfort_mode" class="btn btn-circle red" data-dismiss="modal"><b>Comfort Mode</b></button>
                                                                </td>
                                                                <td>
                                                                    <p></p><button type="button" id="select_eco_mode" class="btn btn-circle green-jungle" data-dismiss="modal"><b>Eco Mode</b></button>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!--End of Modal1-->
                                            <!-- Begin of Modal 2 -->
{#                                                <button type="button" class="btn btn-circle btn-default" data-toggle="modal" data-target="#DR_Modal">Test DR</button>#}
                                                <div class="modal fade" id="DR_Modal" role="dialog">
                                                    <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Demand Response signal received from PEA.</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                    <p> Would you like to participate in a DR program to get <strong>6 Baht/kWh</strong> reduction rebate? </p>
{#                                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.js"></script>#}
{#                                                    <canvas id="myChart" width="400" height="400"></canvas>#}
{#                                                        <script>#}
{#                                                        var ctx = document.getElementById("myChart");#}
{#                                                        var data = {#}
{#                                                                labels: ["January", "February", "March", "April", "May", "June", "July"],#}
{#                                                                datasets: [#}
{#                                                                {#}
{#                                                                    label: "My First dataset",#}
{#                                                                    fill: false,#}
{#                                                                    lineTension: 0.1,#}
{#                                                                    backgroundColor: "rgba(75,192,192,0.4)",#}
{#                                                                    borderColor: "rgba(75,192,192,1)",#}
{#                                                                    borderCapStyle: 'butt',#}
{#                                                                    borderDash: [],#}
{#                                                                    borderDashOffset: 0.0,#}
{#                                                                    borderJoinStyle: 'miter',#}
{#                                                                    pointBorderColor: "rgba(75,192,192,1)",#}
{#                                                                    pointBackgroundColor: "#fff",#}
{#                                                                    pointBorderWidth: 1,#}
{#                                                                    pointHoverRadius: 5,#}
{#                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",#}
{#                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",#}
{#                                                                    pointHoverBorderWidth: 2,#}
{#                                                                    pointRadius: 1,#}
{#                                                                    pointHitRadius: 10,#}
{#                                                                    data: [65, 59, 80, 81, 56, 55, 40],#}
{#                                                                    spanGaps: false,#}
{#                                                                }#}
{#                                                            ]#}
{#                                                         };#}
{##}
{#                                                         var options =  {#}
{#                                                                scales: {#}
{#                                                                    yAxes: [{#}
{#                                                                        ticks: {#}
{#                                                                            beginAtZero:true#}
{#                                                                        }#}
{#                                                                    }]#}
{#                                                                }#}
{#                                                            };#}
{##}
{#                                                        var myChart = new Chart(ctx, {#}
{#                                                            type: 'line',#}
{#                                                            data: data,#}
{#                                                            options: options#}
{#                                                        });#}
{#                                                  </script>#}
{##}
                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" id="agree_dr" class="btn btn-circle green" data-dismiss="modal">Yes, I Agree</button>
                                                    <button type="button" id="disagree_dr" class="btn btn-circle red" data-dismiss="modal">No, I disagree</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!-- End of Modal 2 -->
                                            <!-- Begin agree_dr Modal -->
                                            <div class="modal fade" id="Agree_DR" role="dialog">
                                                    <div class="modal-dialog modal-lg" width="400" height="400">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">You agreed to participate in DR program with PEA</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                    <p> Load status: Consuming </p>
                                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.js"></script>
                                                    <canvas id="agree_DR_Chart"></canvas>
                                                        <script>
                                                        var ctx = document.getElementById("agree_DR_Chart");
                                                        var data = {
                                                                labels: ["15:05", "15:0", "15:07", "15:08", "15:09", "15:10", "15:11"],
                                                                datasets: [
                                                                {
                                                                    label: "My First dataset",
                                                                    fill: false,
                                                                    lineTension: 0.1,
                                                                    backgroundColor: "rgba(75,192,192,0.4)",
                                                                    borderColor: "rgba(75,192,192,1)",
                                                                    borderCapStyle: 'butt',
                                                                    borderDash: [],
                                                                    borderDashOffset: 0.0,
                                                                    borderJoinStyle: 'miter',
                                                                    pointBorderColor: "rgba(75,192,192,1)",
                                                                    pointBackgroundColor: "#fff",
                                                                    pointBorderWidth: 1,
                                                                    pointHoverRadius: 5,
                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                                                    pointHoverBorderWidth: 2,
                                                                    pointRadius: 1,
                                                                    pointHitRadius: 10,
                                                                    data: [65, 59, 80, 81, 56, 55, 40],
                                                                    spanGaps: false,
                                                                }
                                                            ]
                                                         };

                                                         var options =  {
                                                                scales: {
                                                                    yAxes: [{
                                                                        ticks: {
                                                                            beginAtZero:true
                                                                        }
                                                                    }]
                                                                }
                                                            };

                                                        var myChart = new Chart(ctx, {
                                                            type: 'line',
                                                            data: data,
                                                            options: options
                                                        });
                                                  </script>

                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" class="btn btn-circle green" data-dismiss="modal">Close</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!-- End of  agree_dr Modal  -->


                                            <div class="modal fade" id="DisAgree_DR" role="dialog">
                                                    <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">You disagree to participate in DR program with PEA</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                    <p> Thanks for your cooperation,  <strong>PEA Demand Response Team</strong></p>
                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" class="btn btn-circle green" data-dismiss="modal">Close</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>


                                            <!-- Begin of Modal 3 -->
{#                                                <button type="button" class="btn btn-circle btn-default" data-toggle="modal" data-target="#Leakage_Modal">ILeak</button>#}
                                                <div class="modal fade" id="Leakage_Modal" role="dialog">
                                                    <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Leakage Current Testing</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                    <p> Warning !! </p>
                                                    <p> Leakage Current : </p>
                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" class="btn btn-circle green" data-dismiss="modal">Close</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!-- End of Modal 3 -->
                                            <!-- Begin of Modal 4 trigger Comfort Mode Graph -->
{#                                                <button type="button" class="btn btn-circle btn-default" data-toggle="modal" data-target="#Comfort_Modal">Test</button>#}
                                                <div class="modal fade" id="Comfort_Modal" role="dialog">
                                                    <div class="modal-dialog modal-lg" width="400" height="400">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Comfort Mode Selected</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                     <p> Load status: Consuming </p>
                                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.js"></script>
                                                    <canvas id="comfort_chart"></canvas>
                                                        <script>
                                                        var ctx = document.getElementById("comfort_chart");
                                                        var data = {
                                                                labels: ["15:05", "15:0", "15:07", "15:08", "15:09", "15:10", "15:11"],
                                                                datasets: [
                                                                {
                                                                    label: "Power Consumption (kW)",
                                                                    fill: false,
                                                                    lineTension: 0.1,
                                                                    backgroundColor: "rgba(75,192,192,0.4)",
                                                                    borderColor: "rgba(75,192,192,1)",
                                                                    borderCapStyle: 'butt',
                                                                    borderDash: [],
                                                                    borderDashOffset: 0.0,
                                                                    borderJoinStyle: 'miter',
                                                                    pointBorderColor: "rgba(75,192,192,1)",
                                                                    pointBackgroundColor: "#fff",
                                                                    pointBorderWidth: 1,
                                                                    pointHoverRadius: 5,
                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                                                    pointHoverBorderWidth: 2,
                                                                    pointRadius: 1,
                                                                    pointHitRadius: 10,
                                                                    data: [65, 59, 80, 81, 56, 55, 40],
                                                                    spanGaps: false,
                                                                }
                                                            ]
                                                         };

                                                         var data2 = {
                                                                labels: ["January", "February", "March", "April", "May", "June", "July"],
                                                                datasets: [
                                                                {
                                                                    label: "Power Consumption (kW)",
                                                                    fill: false,
                                                                    lineTension: 0.1,
                                                                    backgroundColor: "rgba(75,192,192,0.4)",
                                                                    borderColor: "rgba(255,192,192,1)",
                                                                    borderCapStyle: 'butt',
                                                                    borderDash: [],
                                                                    borderDashOffset: 0.0,
                                                                    borderJoinStyle: 'miter',
                                                                    pointBorderColor: "rgba(255,192,192,1)",
                                                                    pointBackgroundColor: "#fff",
                                                                    pointBorderWidth: 1,
                                                                    pointHoverRadius: 5,
                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                                                    pointHoverBorderWidth: 2,
                                                                    pointRadius: 1,
                                                                    pointHitRadius: 10,
                                                                    data: [32, 37, 80, 73, 64, 35, 90],
                                                                    spanGaps: false,
                                                                }
                                                            ]
                                                         };

                                                         var options =  {
                                                                scales: {
                                                                    yAxes: [{
                                                                        ticks: {
                                                                            beginAtZero:false
                                                                        }
                                                                    }]
                                                                }
                                                            };

                                                        var myChart = new Chart(ctx, {
                                                            type: 'line',
                                                            data: data,
                                                            options: options
                                                        });
                                                  </script>
                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" class="btn btn-circle green" data-dismiss="modal">Close</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!-- End of Modal 4 -->
                                            <!-- Modal 5 trigger ECO Mode Graph -->
{#                                                <button type="button" class="btn btn-circle btn-default" data-toggle="modal" data-target="#Eco_Modal">Test</button>#}
                                                <div class="modal fade" id="Eco_Modal" role="dialog">
                                                    <div class="modal-dialog modal-lg" width="400" height="400">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title">Eco Mode Selected</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                    <p> Load status: Consuming </p>
                                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.js"></script>
                                                    <canvas id="eco_chart"></canvas>
                                                        <script>
                                                        var ctx = document.getElementById("eco_chart");
                                                        var data = {
                                                                labels: ["15:05", "15:0", "15:07", "15:08", "15:09", "15:10", "15:11"],
                                                                datasets: [
                                                                {
                                                                    label: "Power Consumption (kW)",
                                                                    fill: false,
                                                                    lineTension: 0.1,
                                                                    backgroundColor: "rgba(75,192,192,0.4)",
                                                                    borderColor: "rgba(75,192,192,1)",
                                                                    borderCapStyle: 'butt',
                                                                    borderDash: [],
                                                                    borderDashOffset: 0.0,
                                                                    borderJoinStyle: 'miter',
                                                                    pointBorderColor: "rgba(75,192,192,1)",
                                                                    pointBackgroundColor: "#fff",
                                                                    pointBorderWidth: 1,
                                                                    pointHoverRadius: 5,
                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                                                    pointHoverBorderWidth: 2,
                                                                    pointRadius: 1,
                                                                    pointHitRadius: 10,
                                                                    data: [32, 59, 85, 51, 67, 95, 40],
                                                                    spanGaps: false,
                                                                }
                                                            ]
                                                         };

                                                         var data2 = {
                                                                labels: ["January", "February", "March", "April", "May", "June", "July"],
                                                                datasets: [
                                                                {
                                                                    label: "Power Consumption (kW)",
                                                                    fill: false,
                                                                    lineTension: 0.1,
                                                                    backgroundColor: "rgba(75,192,192,0.4)",
                                                                    borderColor: "rgba(255,192,192,1)",
                                                                    borderCapStyle: 'butt',
                                                                    borderDash: [],
                                                                    borderDashOffset: 0.0,
                                                                    borderJoinStyle: 'miter',
                                                                    pointBorderColor: "rgba(255,192,192,1)",
                                                                    pointBackgroundColor: "#fff",
                                                                    pointBorderWidth: 1,
                                                                    pointHoverRadius: 5,
                                                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                                                    pointHoverBorderWidth: 2,
                                                                    pointRadius: 1,
                                                                    pointHitRadius: 10,
                                                                    data: [32, 37, 80, 73, 64, 35, 90],
                                                                    spanGaps: false,
                                                                }
                                                            ]
                                                         };

                                                         var options =  {
                                                                scales: {
                                                                    yAxes: [{
                                                                        ticks: {
                                                                            beginAtZero:false
                                                                        }
                                                                    }]
                                                                }
                                                            };

                                                        var myChart = new Chart(ctx, {
                                                            type: 'line',
                                                            data: data,
                                                            options: options
                                                        });
                                                  </script>
                                                    </div>
                                                    <div class="modal-footer">
                                                    <button type="button" class="btn btn-circle green" data-dismiss="modal">Close</button>
                                                    </div>
                                                    </div>
                                                </div>
                                                </div>
                                            <!-- End of Modal 5 -->

                                     </div>
                                    </div>
                                </div>
                                <!-- END Mode -->


                                <!-- BEGIN Weather -->
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                    <div class="m-heading-1 border-blue m-bordered">
                                        <div class="row">
                                            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                <h3 id="WEA_title" style="font-size: 25px";>CLOUDY</h3><br>
                                                <div id="WEA_humid" style="font-size: 20px">Humidity : </div>
                                                <span id = "WEA_temp" style="font-size: 25px">25</span> C
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                <div class="icon">
                                                    <br><br>
                                                    <img class= "" id="WEATHER_pic" width ="60" height = "60" src = "../static/images/Weather/cloudy.png" class="img-responsive">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- END Weather -->
                            <!-- Occupant-->
                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                    <div class="m-heading-1 border-red m-bordered">
                                        <div class="row">
                                            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                <h3 style="font-size: 25px">OCCUPANT</h3>
                                                <br>
                                                <div class=""><span>Number</span></div>
                                                <span id="occupant" style="font-size: 25px">25</span> persons
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                <div class="icon">
                                                    <br><br>
                                                <img id="occupant_img" class="img-responsive center-block" height="70" width="70" src="../../static/images/user.png" >
                                                </div>
                                            </div>
                                        </div>



{#                                        <div class="row">#}
{#                                            <div class="col-lg-12">#}
{#                                                <h3 style="font-size: 25px";>OCCUPANT</h3><br>#}
{#                                            </div>#}
{#                                            <div class="row">#}
{#                                                <div class ="col-lg-6 m-bordered">#}
{#                                                   <span id = "occupant" style="font-size: 20px"><p></p>&ensp;25</span> persons#}
{#                                                </div>#}
{#                                                <div class="col-lg-6 m-bordered">#}
{#                                                    <img id="occupant_img" class="img-responsive center-block" height="50" width="50" src="../../static/images/user.png" >#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
                                    </div>
                                </div>
                            <!-- End of Occupant-->
                            </div>
                            <!-- END 1st Row -->

                            <!-- BEGIN Real-time Price & Energy -->
                            <div class="portlet light bordered">
                                <div class="portlet-title tabbable-line">
                                    <div class="caption">
                                        <i class="icon-bubbles font-dark hide"></i>
                                        <span class="caption-subject font-dark bold uppercase">Real-time Price & Energy</span>
                                    </div>
                                    <ul class="nav nav-tabs">
                                        <li class="active">
                                            <a href="#portlet_cost_1" data-toggle="tab" aria-expanded="true"> Today </a>
                                        </li>
                                        <li class="">
                                            <a href="#portlet_cost_2" data-toggle="tab" aria-expanded="false"> This Month </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="portlet-body">
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="portlet_cost_1">
                                          <div class="row">
                                             <div class="col-lg-5 col-xs-12 col-sm-5" style=" display: flex;"  >
                                                 <div style="margin: auto">
                                                     <svg class="cp-donut-day" style="margin-top:-40px"></svg>
                                                     <script >
                                                        renderCP1 = function() {
                                                         if(CPT_comp < 0) {
                                                           var dataset = {
                                                               hddrives: [CPT_kwh*85.0/CPT_max,(CPT_max-CPT_kwh)*85.0/CPT_max,15],
                                                           };
                                                         } else if(CPT_comp > 0) {
                                                           var dataset = {
                                                               hddrives: [100,0,15],
                                                           };
                                                         } else {
                                                           var dataset = {
                                                               hddrives: [100,0,15],
                                                           };
                                                         }

                                                         var width = 250,
                                                                 height = 250,
                                                                 radius = Math.min(width, height) / 2;


                                                         var color = d3.scale.ordinal().range(["#E87E04", "white","lightgreen"]);
                                                         //d3.scale.ordinal()
                                                         // .range(["#2DA7E2"]);
                                                         // Old color = #5C9BD1 , NEW color = #E87E04

                                                         var pie = d3.layout.pie()
                                                                 .sort(null);



                                                         var arc = d3.svg.arc()
                                                                 .innerRadius(radius - 70)
                                                                 .outerRadius(radius - 50);

                                                         var svg = d3.select(".cp-donut-day");
                                                         svg.selectAll("*").remove();

                                                         svg = svg.attr("width", width)
                                                                 .attr("height", height)
                                                                 .append("g")
                                                                 .attr("transform", "translate(" + width / 2 + "," + height / 2 + ") ");

                                                         /*svg.append("circle")
                                                                 .attr("cx", 0)
                                                                 .attr("cy", 0)
                                                                 .attr("r", 40)
                                                                 .attr("fill", "#F1C40F");*/

                                                         var path = svg.selectAll("path")
                                                                 .data(pie(dataset.hddrives))
                                                                 .enter().append("path")
                                                                 .attr("class", "arc")
                                                                 .style("opacity", function(d, i) {
                                                                     return i == dataset.hddrives.length -1 ? 0 : 1;
                                                                 })
                                                                 .attr("fill", function(d, i) {
                                                                     return color(i);
                                                                 })
                                                                 .attr("d", arc)
                                                                 .attr("transform", "translate(" + 0 + "," + 0 + ")  rotate(207)");
                                                         svg.append("text")
                                                                 .attr("dy", "0.3em")
                                                                 .attr("dx", "0.15em")
                                                                 .style("text-anchor", "end")
                                                                 .style("fill", "#777777")
                                                                 .style("font-size", "25px")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return String(Math.floor(CPT_kwh));
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "0.25em")
                                                                 .attr("dx", "0.3em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#777777")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return '.';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "0.52em")
                                                                 .attr("dx", "1.55em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#777777")
                                                                 .style("font-size", "14px")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return String(Math.floor((CPT_kwh-Math.floor(CPT_kwh))*100));
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "2.5em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#888888")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'kWh';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "5.5em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return String(CPT_max);
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "7em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'Energy Usage';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "8.25em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'from yesterday';
                                                                 });
                                                        }
                                                     </script>
                                                 </div>
                                             </div>
                                             <div class="col-lg-7 col-xs-12 col-sm-7 tab-pane" style=" display: flex;" >
                                                 <div style="margin: auto;line-height:10px">
                                                   <h4>Today's usage</h4>
                                                   <br>
                                                   <div style="font-weight: bold; font-size: 50px;"><span id="CPT_baht"></span> ฿</div>
                                                   <br><br><br>
                                                   <div style="line-height:20px;" id="CPT_comp_color">
                                                       <p>
                                                       <i class="glyphicon" id="CPT_comp_direction"></i><span style="font-size: 30px;"> <span id="CPT_comp"></span> ฿</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black">from yesterday</span>
                                                       </p>
                                                    </div>
                                                 </div>
                                             </div>
                                           </div>
                                        </div>
                                        <div class="tab-pane" id="portlet_cost_2">
                                          <div class="row">
                                             <div class="col-lg-5 col-xs-12 col-sm-5" style=" display: flex;"  >
                                                 <div style="margin: auto">
                                                     <svg class="cp-donut-day2" style="margin-top:-40px"></svg>
                                                     <script >
                                                        renderCP2 = function() {
                                                          if(CPM_comp < 0) {
                                                            var dataset = {
                                                                hddrives: [CPM_kwh*85.0/CPM_max,(CPM_max-CPM_kwh)*85.0/CPM_max,15],
                                                            };
                                                          } else if(CPM_comp > 0) {
                                                            var dataset = {
                                                                hddrives: [100,0,15],
                                                            };
                                                          } else {
                                                            var dataset = {
                                                                hddrives: [100,0,15],
                                                            };
                                                          }

                                                         var width = 250,
                                                                 height = 250,
                                                                 radius = Math.min(width, height) / 2;


                                                         var color = d3.scale.ordinal().range(["#E87E04", "white","lightgreen"]);
                                                         //d3.scale.ordinal()
                                                         // .range(["#2DA7E2"]);

                                                         var pie = d3.layout.pie()
                                                                 .sort(null);



                                                         var arc = d3.svg.arc()
                                                                 .innerRadius(radius - 70)
                                                                 .outerRadius(radius - 50);

                                                         var svg = d3.select(".cp-donut-day2");
                                                         svg.selectAll("*").remove();

                                                         svg = svg.attr("width", width)
                                                                 .attr("height", height)
                                                                 .append("g")
                                                                 .attr("transform", "translate(" + width / 2 + "," + height / 2 + ") ");

                                                         /*svg.append("circle")
                                                                 .attr("cx", 0)
                                                                 .attr("cy", 0)
                                                                 .attr("r", 40)
                                                                 .attr("fill", "gold");*/

                                                         var path = svg.selectAll("path")
                                                                 .data(pie(dataset.hddrives))
                                                                 .enter().append("path")
                                                                 .attr("class", "arc")
                                                                 .style("opacity", function(d, i) {
                                                                     return i == dataset.hddrives.length -1 ? 0 : 1;
                                                                 })
                                                                 .attr("fill", function(d, i) {
                                                                     return color(i);
                                                                 })
                                                                 .attr("d", arc)
                                                                 .attr("transform", "translate(" + 0 + "," + 0 + ")  rotate(207)");
                                                         svg.append("text")
                                                                 .attr("dy", "0.3em")
                                                                 .attr("dx", "0.15em")
                                                                 .style("text-anchor", "end")
                                                                 .style("fill", "#777777")
                                                                 .style("font-size", "25px")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return String(Math.floor(CPM_kwh));
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "0.25em")
                                                                 .attr("dx", "0.3em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#777777")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return '.';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "0.52em")
                                                                 .attr("dx", "1.55em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#777777")
                                                                 .style("font-size", "14px")
                                                                 .attr("class", "inside")
                                                                 .text(function(d) {
                                                                     return String(Math.floor((CPM_kwh-Math.floor(CPM_kwh))*100));
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "2.5em")
                                                                 .style("text-anchor", "middle")
                                                                 .style("fill", "#888888")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'kWh';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "5.5em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return String(CPM_max);
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "7em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'Maximum Usage';
                                                                 });
                                                         svg.append("text")
                                                                 .attr("dy", "8.25em")
                                                                 .style("text-anchor", "middle")
                                                                 .attr("class", "data")
                                                                 .text(function(d) {
                                                                     return 'from last month';
                                                                 });
                                                        }
                                                     </script>
                                                 </div>
                                             </div>
                                             <div class="col-lg-7 col-xs-12 col-sm-7 tab-pane" style=" display: flex;" >
                                                 <div style="margin: auto;line-height:10px">
                                                   <h4>This month's usage</h4>
                                                   <br>
                                                   <div style="font-weight: bold; font-size: 50px;"><span id="CPM_baht"></span> ฿</div>
                                                   <br><br><br>
                                                   <div style="line-height:20px;" id="CPM_comp_color">
                                                       <p>
                                                       <i class="glyphicon" id="CPM_comp_direction"></i><span style="font-size: 30px;"> <span id="CPM_comp"></span> ฿</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black">from last month</span>
                                                       </p>
                                                    </div>
                                                 </div>
                                             </div>
                                           </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- END Real-time Price & Energy -->

                            <!-- BEGIN Total Annual Energy Consumption -->
                            <div class="portlet light portlet-fit bordered">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="icon-directions font-green hide"></i>
                                        <span class="caption-subject bold font-dark uppercase "> Total Annual Energy Consumption</span>
                                    </div>
                                </div>
                                <div class="portlet-body">
                                <div class="row">
                                    <div class="col-md-5 col-sm-5">
                                      <div class="chart-gauge"></div>
                                    </div>
                                    <div class="col-md-7 col-sm-7" style="font-size:30px">
                                      <div style="display:table;margin: 10px auto">
                                        <div style="display:inline-block">
                                          <span>
                                              <img class="" src="../static/images/icon-png/AEC_plug3.png" style="responsive" height="50" width="50" ></img>
                                          </span>
                                          <div style="display:inline-block">
                                            <span style="font-size:20px;font-weight:600">Consumption</span>
                                            <span style="font-size:20px;display:block"><span id="AEC_use"></span> kWh</span>
                                          </div>
                                        </div>
                                        <br>
                                        <div style="display:inline-block">
                                          <span>
                                              <img class="" src="../static/images/icon-png/AEC_gen3.png" style="responsive" height="50" width="50" ></img>
                                          </span>
                                          <div style="display:inline-block">
                                            <span style="font-size:20px;font-weight:600">Generation</span>
                                            <span style="font-size:20px;display:block"><span id="AEC_gen"></span> kWh</span>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <script>
                                  renderGauge = function() {
                                  (function () {
                                    var Needle, arc, arcEndRad, arcStartRad, barWidth, chart, chartInset, degToRad, el, endPadRad, height, i, margin, needle, numSections, padRad, percToDeg, percToRad, radius, ref, sectionIndx, sectionPerc, startPadRad, startingPercent, svg, totalPercent, width;
                                    startingPercent = 0.5;
                                    barWidth = 50;
                                    numSections = 10;
                                    sectionPerc = 1 / numSections / 2;
                                    padRad = 0.05;
                                    chartInset = 10;
                                    totalPercent = 0.75;
                                    el = d3.select('.chart-gauge');
                                    el.selectAll("*").remove();
                                    margin = {
                                        top: 0,
                                        right: 20,
                                        bottom: 30,
                                        left: 20
                                    };
                                    width = 240 - margin.left - margin.right;
                                    height = width + 50;
                                    radius = Math.min(width, height) / 2;
                                    percToDeg = function (perc) {
                                        return perc * 360;
                                    };
                                    percToRad = function (perc) {
                                        return degToRad(percToDeg(perc));
                                    };
                                    degToRad = function (deg) {
                                        return deg * Math.PI / 180;
                                    };
                                    svg = el.append('svg').attr('width', width + margin.left + margin.right).attr('height', height / 2 + margin.top + margin.bottom);

                                    svg.append("text")
                                            .attr("dx", (width/2 + margin.left/2)+"px")
                                            .attr("dy", "20px")
                                            .style("text-anchor", "middle")
                                            .attr("fill", AEC_color)
                                            .text(function(d) {
                                                return String(AEC_message);
                                            });

                                    chart = svg.append('g').attr('transform', 'translate(' + (width + margin.left) / 2 + ', ' + (height + margin.top) / 2 + ')');
                                    for (sectionIndx = i = 1, ref = numSections; 1 <= ref ? i <= ref : i >= ref; sectionIndx = 1 <= ref ? ++i : --i) {
                                        arcStartRad = percToRad(totalPercent);
                                        arcEndRad = arcStartRad + percToRad(sectionPerc);
                                        totalPercent += sectionPerc;
                                        startPadRad = sectionIndx === 0 ? 0 : padRad / 2;
                                        endPadRad = sectionIndx === numSections ? 0 : padRad / 2;
                                        arc = d3.svg.arc().outerRadius(radius - chartInset).innerRadius(radius - chartInset - barWidth).startAngle(arcStartRad + startPadRad).endAngle(arcEndRad - endPadRad);
                                        chart.append('path').attr('class', 'arc chart-color' + sectionIndx).attr('d', arc);
                                    }
                                    Needle = function () {
                                        function Needle(len, radius1) {
                                            this.len = len;
                                            this.radius = radius1;
                                        }
                                        Needle.prototype.drawOn = function (el, perc) {
                                            this.startingPerc = perc;
                                            el.append('circle').attr('class', 'needle-center').attr('cx', 0).attr('cy', 0).attr('r', this.radius);
                                            return el.append('path').attr('class', 'needle').attr('d', this.mkCmd(perc));
                                        };
                                        Needle.prototype.animateOn = function (el, perc) {
                                            var self;
                                            self = this;
                                            return el.attr('d', self.mkCmd(this.startingPerc)).transition().delay(500).ease('elastic').duration(3000).selectAll('.needle').tween('progress', function () {
                                                return function (percentOfPercent) {
                                                    var progress;
                                                    if (perc > self.startingPerc) {
                                                        progress = self.startingPerc + percentOfPercent * (perc - self.startingPerc);
                                                    } else {
                                                        progress = self.startingPerc - percentOfPercent * (self.startingPerc - perc);
                                                    }
                                                    return d3.select(this).attr('d', self.mkCmd(progress));
                                                };
                                            });
                                        };
                                        Needle.prototype.mkCmd = function (perc) {
                                            var centerX, centerY, leftX, leftY, rightX, rightY, thetaRad, topX, topY;
                                            thetaRad = percToRad(perc / 2);
                                            centerX = 0;
                                            centerY = 0;
                                            topX = centerX - this.len * Math.cos(thetaRad);
                                            topY = centerY - this.len * Math.sin(thetaRad);
                                            leftX = centerX - this.radius * Math.cos(thetaRad - Math.PI / 2);
                                            leftY = centerY - this.radius * Math.sin(thetaRad - Math.PI / 2);
                                            rightX = centerX - this.radius * Math.cos(thetaRad + Math.PI / 2);
                                            rightY = centerY - this.radius * Math.sin(thetaRad + Math.PI / 2);
                                            return 'M ' + leftX + ' ' + leftY + ' L ' + topX + ' ' + topY + ' L ' + rightX + ' ' + rightY;
                                        };
                                        return Needle;
                                    }();
                                    needle = new Needle(90, 15);
                                    needle.drawOn(chart, percent);
                                  }.call(this));
                                  }
                                  </script>
                                </div>
                            </div>
                            <!-- END Total Annual Energy Consumption -->

                            <!-- BEGIN Devices Status -->
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="portlet light portlet-fit bordered">
                                        <!--Devices Status Header-->
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="icon-directions font-green hide"></i>
                                                <span class="caption-subject bold font-dark uppercase">Devices status</span>
                                            </div>
                                        </div>
                                  <div class="portlet-body">
                                      <div class="row widget-row">
                                        <!-- BEGIN Lighting Status -->
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <!-- BEGIN WIDGET THUMB -->
                                            <div class="widget-thumb widget-bg-color-white text-uppercase margin-bottom-20" style="padding:0px">
                                                <h4 class="widget-thumb-heading font-dark">Lightings</h4>
                                                 <div class="widget-thumb-wrap" style="">
                                                    <i class="widget-thumb-icon bg-red-flamingo">
                                                       <img class="" src="../static/images/icon-png/lighting_w.png" style="responsive" height="40" width="40" >
                                                    </i>
                                                    <div class="widget-thumb-body">
                                                        <span class="widget-thumb-subtitle">Active</span>
                                                        <span class="widget-thumb-body-stat" style="font-size: 20px">
                                                            <span id="LOAD1_on"></span>/<span id="LOAD1_all"></span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END WIDGET THUMB -->
                                        </div>
                                        <!-- END Lighting Status -->

                                        <!-- BEGIN A/C Status -->
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <!-- BEGIN WIDGET THUMB -->
                                            <div class="widget-thumb widget-bg-color-white text-uppercase margin-bottom-20" style="padding:0px">
                                                <h4 class="widget-thumb-heading font-dark">Air Condition</h4>
                                                <div class="widget-thumb-wrap">
                                                    <i class="widget-thumb-icon bg-blue">
                                                        <img class="" src="../static/images/icon-png/air-conditioner_w.png" style="responsive" height="40" width="40" >
                                                    </i>
                                                    <div class="widget-thumb-body">
                                                        <span class="widget-thumb-subtitle">Active</span>
                                                        <span class="widget-thumb-body-stat" style="font-size: 20px"><span id="LOAD2_on"></span>/<span id="LOAD2_all"></span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END WIDGET THUMB -->
                                        </div>
                                        <!-- END A/C Status -->

                                        <!-- BEGIN Appliances Status -->
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <!-- BEGIN WIDGET THUMB -->
                                            <div class="widget-thumb widget-bg-color-white text-uppercase margin-bottom-20" style="padding:0px">
                                                <h4 class="widget-thumb-heading font-dark ">Appliances</h4>
                                                <div class="widget-thumb-wrap">
                                                    <i class="widget-thumb-icon bg-green-jungle">
                                                       <img class="" src="../static/images/icon-png/plug2.png" style="responsive" height="40" width="40" >
                                                    </i>
                                                    <div class="widget-thumb-body">
                                                        <span class="widget-thumb-subtitle">Active</span>
                                                        <span class="widget-thumb-body-stat" style="font-size: 20px"><span id="LOAD3_on"></span>/<span id="LOAD3_all"></span></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- END WIDGET THUMB -->
                                        </div>
                                        <!-- END Appliances Status -->
                                      </div>
                                  </div>
                                </div>
                                </div>
                            </div>
                            <!-- END Devices Status -->
                        </section>
                        <!-- END Right Col -->
                    </div>
                    <!-- END Div Row -->

                    <div class="row">

                    </div>
                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
        </div>
        <!-- END CONTAINER -->

        <!--[if lt IE 9]>
<script src="/static/newassets/global/plugins/respond.min.js"></script>
<script src="/static/newassets/global/plugins/excanvas.min.js"></script>
<script src="/static/newassets/global/plugins/ie8.fix.min.js"></script>
<![endif]-->
        <!-- BEGIN CORE PLUGINS -->
        <script src="/static/newassets/global/plugins/jquery.min.js" type="text/javascript"></script>
        <script src="/static/newassets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="/static/newassets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
        <script src="/static/newassets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
        <script src="/static/newassets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="/static/newassets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="/static/newassets/global/scripts/app.min.js" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <script src="/static/newassets/layouts/layout4/scripts/layout.min.js" type="text/javascript"></script>
        <script src="/static/newassets/layouts/layout4/scripts/demo.min.js" type="text/javascript"></script>
        <script src="/static/newassets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
        <script src="/static/newassets/layouts/global/scripts/quick-nav.min.js" type="text/javascript"></script>
        <!-- END THEME LAYOUT SCRIPTS -->
        <script src="/static/newassets/global/plugins/d3.min.js" type="text/javascript"></script>
{#        <script src="/static/app_js/plugload.js" type="text/javascript"></script>#}
        <script type="text/javascript">
          window.CPT_kwh = 0;
          window.CPT_max = 0;
          window.CPM_kwh = 0;
          window.CPM_max = 0;
          window.AEC_use = 0;
          window.AEC_gen = 0;

          function update_CPT_kwh(CPT_kwh) {
            window.CPT_kwh = Number(CPT_kwh);
            renderCP1();
          }

          function update_CPT_max(CPT_max) {
            window.CPT_max = Number(CPT_max);
            renderCP1();
          }

          function update_CPT_baht(CPT_baht) {
            $("#CPT_baht").text(String(CPT_baht));
          }

          function update_CPT_comp(CPT_comp) {
            window.CPT_comp = CPT_comp;
            $("#CPT_comp").text(String(Math.abs(CPT_comp)));
            if(CPT_comp > 0 ) {
              $("#CPT_comp_direction").removeClass("up down").addClass("up");
              $("#CPT_comp_color").css("color", "#e7505a");
            } else if(CPT_comp < 0) {
              $("#CPT_comp_direction").removeClass("up down").addClass("down");
              $("#CPT_comp_color").css("color", "#26C281");
            }
            renderCP1();
          }

          function update_CPM_kwh(CPM_kwh) {
            window.CPM_kwh = Number(CPM_kwh);
            renderCP2();
          }

          function update_CPM_max(CPM_max) {
            window.CPM_max = Number(CPM_max);
            renderCP2();
          }

          function update_CPM_baht(CPM_baht) {
            $("#CPM_baht").text(String(CPM_baht));
          }

          function update_CPM_comp(CPM_comp) {
            window.CPM_comp = CPM_comp;
            $("#CPM_comp").text(String(Math.abs(CPM_comp)));
            if(CPM_comp > 0 ) {
              $("#CPM_comp_direction").removeClass("up down").addClass("up");
              $("#CPM_comp_color").css("color", "#e7505a");
            } else if(CPM_comp < 0) {
              $("#CPM_comp_direction").removeClass("up down").addClass("down");
              $("#CPM_comp_color").css("color", "#26C281");
            }
            renderCP2();
          }

          function update_LT1_comp(LT1_comp) {
            if(LT1_comp > 0)
              $("#LT1_comp_direction").removeClass("up down").addClass("up");
            else if(LT1_comp < 0)
              $("#LT1_comp_direction").removeClass("up down").addClass("down");
            $("#LT1_comp").text(String(Math.abs(LT1_comp)));
          }

          function update_LT1_baht(LT1_baht) {
            $("#LT1_baht").text(String(LT1_baht));
          }

          function update_LT2_comp(LT2_comp) {
            if(Number(LT2_comp) > 0)
              $("#LT2_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LT2_comp) < 0)
              $("#LT2_comp_direction").removeClass("up down").addClass("down");
            $("#LT2_comp").text(String(Math.abs(LT2_comp)));
          }

          function update_LT2_baht(LT2_baht) {
            $("#LT2_baht").text(String(LT2_baht));
          }

          function update_LT3_comp(LT3_comp) {
            if(Number(LT3_comp) > 0)
              $("#LT3_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LT3_comp) < 0)
              $("#LT3_comp_direction").removeClass("up down").addClass("down");
            $("#LT3_comp").text(String(Math.abs(LT3_comp)));
          }

          function update_LT3_baht(LT3_baht) {
            $("#LT3_baht").text(String(LT3_baht));
          }

          function update_LT4_comp(LT4_comp) {
            if(Number(LT4_comp) > 0)
              $("#LT4_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LT4_comp) < 0)
              $("#LT4_comp_direction").removeClass("up down").addClass("down");
            $("#LT4_comp").text(String(Math.abs(LT4_comp)));
          }

          function update_LT4_baht(LT4_baht) {
            $("#LT4_baht").text(String(LT4_baht));
          }

          function update_LM1_comp(LM1_comp) {
            if(Number(LM1_comp) > 0)
              $("#LM1_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LM1_comp) < 0)
              $("#LM1_comp_direction").removeClass("up down").addClass("down");
            $("#LM1_comp").text(String(Math.abs(LM1_comp)));
          }

          function update_LM1_baht(LM1_baht) {
            $("#LM1_baht").text(String(LM1_baht));
          }

          function update_LM2_comp(LM2_comp) {
            if(Number(LM2_comp) > 0)
              $("#LM2_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LM2_comp) < 0)
              $("#LM2_comp_direction").removeClass("up down").addClass("down");
            $("#LM2_comp").text(String(Math.abs(LM2_comp)));
          }

          function update_LM2_baht(LM2_baht) {
            $("#LM2_baht").text(String(LM2_baht));
          }

          function update_LM3_comp(LM3_comp) {
            if(Number(LM3_comp) > 0)
              $("#LM3_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LM3_comp) < 0)
              $("#LM3_comp_direction").removeClass("up down").addClass("down");
            $("#LM3_comp").text(String(Math.abs(LM3_comp)));
          }

          function update_LM3_baht(LM3_baht) {
            $("#LM3_baht").text(String(LM3_baht));
          }

          function update_LM4_comp(LM4_comp) {
            if(Number(LM4_comp) > 0)
              $("#LM4_comp_direction").removeClass("up down").addClass("up");
            else if(Number(LM4_comp) < 0)
              $("#LM4_comp_direction").removeClass("up down").addClass("down");
            $("#LM4_comp").text(String(Math.abs(LM4_comp)));
          }

          function update_LM4_baht(LM4_baht) {
            $("#LM4_baht").text(String(LM4_baht));
          }

          function update_AEC_gen(AEC_gen) {
            window.AEC_gen = Number(AEC_gen);
            $("#AEC_gen").text(String(AEC_gen));
            updateGuage();
          }

          function update_AEC_use(AEC_use) {
            window.AEC_use = Number(AEC_use);
            $("#AEC_use").text(String(AEC_use));
            updateGuage();
          }

          function updateGuage() {
            var useplusgen = AEC_use+AEC_gen;
            var overgen = AEC_gen-AEC_use;
            percent = 0.5 + (overgen/useplusgen)/2;
            if(percent == 0.5) {
              AEC_message = "Net Zero";
              AEC_color = "#26C281";
            }
            else if(percent > 0.5) {
              AEC_message = "Over Generation";
              AEC_color = "#32c5d2";
            }
            else {
              AEC_message = "Over Consumption";
              AEC_color = "#e7505a";
            }
            renderGauge();
          }

          function update_LOAD1_on(LOAD1_on) {
            $("#LOAD1_on").text(String(LOAD1_on));
          }
          function update_LOAD1_all(LOAD1_all) {
            $("#LOAD1_all").text(String(LOAD1_all));
          }
          function update_LOAD2_on(LOAD2_on) {
            $("#LOAD2_on").text(String(LOAD2_on));
          }
          function update_LOAD2_all(LOAD2_all) {
            $("#LOAD2_all").text(String(LOAD2_all));
          }
          function update_LOAD3_on(LOAD3_on) {
            $("#LOAD3_on").text(String(LOAD3_on));
          }
          function update_LOAD3_all(LOAD3_all) {
            $("#LOAD3_all").text(String(LOAD3_all));
          }

          function update_GRID_status(GRID_status) {
            $("#GRID_status").text(String(GRID_status));
          }

          function update_GRID_kw(GRID_kw) {
            $("#GRID_kw").text(String(Math.abs(Number(GRID_kw))));
            if(Number(GRID_kw) > 0) {
              $("#GRID_kw_direction").removeClass("up2 down2").addClass("up2");
            } else if(Number(GRID_kw) < 0) {
              $("#GRID_kw_direction").removeClass("up2 down2").addClass("down2");
            }
          }

          function update_SOLAR_status(SOLAR_status) {
            $("#SOLAR_status").text(String(SOLAR_status));
          }

          function update_SOLAR_kw(SOLAR_kw) {
            $("#SOLAR_kw").text(String(Math.abs(Number(SOLAR_kw))));
            if(Number(SOLAR_kw) > 0) {
              $("#SOLAR_kw_direction").removeClass("up2 down2").addClass("up2");
            } else if(Number(SOLAR_kw) < 0) {
              $("#SOLAR_kw_direction").removeClass("up2 down2").addClass("down2");
            }
          }

          function update_MODE(MODE) {
            $("#MODE").text(String(MODE));
          }

          function update_MODE_status(MODE_status) {
            $("#MODE_status").text(String(MODE_status));
          }

          function update_MODE_baht(MODE_baht) {
            $("#MODE_baht").text(String(Math.abs(Number(MODE_baht))));
            if(Number(MODE_baht) > 0) {
              $("#MODE_baht_direction").removeClass("up2 down2").addClass("up2");
            } else if(Number(MODE_baht) < 0) {
              $("#MODE_baht_direction").removeClass("up2 down2").addClass("down2");
            }
          }

          function update_EV_status(EV_status) {
            $("#EV_status").text(String(EV_status));
          }

          function update_EV_percent(EV_percent) {
            $("#EV_percent").text(String(Math.abs(Number(EV_percent))));
            if(Number(EV_percent) > 0) {
              $("#EV_percent_direction").removeClass("up2 down2").addClass("up2");
            } else if(Number(EV_percent) < 0) {
              $("#EV_percent_direction").removeClass("up2 down2").addClass("down2");
            }
          }

          function update_LOAD_status(LOAD_status) {
            $("#LOAD_status").text(String(LOAD_status));
          }

          function update_LOAD_kw(LOAD_kw) {
            $("#LOAD_kw").text(String(Math.abs(Number(LOAD_kw))));
            if(Number(LOAD_kw) > 0) {
              $("#LOAD_kw_direction").removeClass("up2 down2").addClass("up2");
            } else if(Number(LOAD_kw) < 0) {
              $("#LOAD_kw_direction").removeClass("up2 down2").addClass("down2");
            }
          }

          window.onload = function () {
            startTime();
            setValue();
            renderChart();
            //renderCP1();
            //renderCP2();
            //renderGauge();
          }
        </script>

        <script type="text/javascript" src="/static/app_js/home_dash.js"></script>
        <script type="text/javascript" src="/static/app_js/lighting.js"></script>
    </body>

</html>
